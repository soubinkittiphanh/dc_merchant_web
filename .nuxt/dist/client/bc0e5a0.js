(window.webpackJsonp=window.webpackJsonp||[]).push([[36,19],{554:function(t,e,n){"use strict";n.r(e);var o=n(243),r=n(138),c=n(240),l=n(74),component=Object(l.a)({},(function(){var t=this._self._c;return t(o.a,{attrs:{color:"primary",dark:""}},[t(r.c,[this._v("\n    ກະລຸນາລໍຖ້າ...\n    "),t(c.a,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},564:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return c}));n(26),n(207);var o=function(t,title,e){t({icon:"error",title:title,text:e,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},r=function(t,title,text){t({icon:"success",title:title,text:text,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},c=function(t){return(new Intl.NumberFormat).format(t)}},586:function(t,e,n){"use strict";n(259);var o=n(261);e.a=Object(o.a)("layout")},625:function(t,e,n){"use strict";n.r(e);var o=n(550),r=n(536),c=n(243),l=n(138),d=n(574),m=n(547),f=n(563),v=n(572),h=n(549),x=n(85),k=n(38),D=(n(139),n(4),n(8),n(11),n(71),n(29),n(75),{bind:function(t,e,n){t.addEventListener("input",(function(t){var e=t.target.value.replace(/[^0-9]/g,"");"NaN"===(e=parseInt(e,10).toLocaleString("en-US"))&&(e="0"),n.componentInstance.$emit("input",e)}))}}),y=n(564),w={directives:{commaThousand:D},data:function(){return{account:[],drAccount:"",crAccount:"",amount:"",isloading:!1,bookingDate:"",paymentDescription:"",postingReference:"",paymentDr:{accountNumber:5006,bookingDate:"",postingReference:"",debit:0,credit:0,description:"Investment",source:"GL"},paymentCr:{accountNumber:1001,bookingDate:"",postingReference:"",debit:0,credit:0,description:"Investment",source:"GL"}}},mounted:function(){this.loadAccount();var t=(new Date).toISOString().substr(0,10);this.bookingDate=t},computed:{today:function(){var t=(new Date).toLocaleDateString();return console.log(t),t}},methods:{triggerDialog:function(t){this.$emit("close",t)},loadAccount:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/financial/chartAccount");case 2:e.sent.data.forEach((function(element){console.log("Account number => ",element.accountNumber),t.account.push({id:element.accountNumber,desc:element.accountNumber+" - "+element.accountLLName})}));case 4:case"end":return e.stop()}}),e)})))()},createPayment:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isloading){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,n=null,e.prev=4,t.paymentCr.bookingDate=t.bookingDate,t.paymentCr.description=t.paymentDescription,t.paymentCr.postingReference=t.postingReference,t.paymentCr.credit=t.amount,t.paymentDr.bookingDate=t.bookingDate,t.paymentDr.description=t.paymentDescription,t.paymentDr.postingReference=t.postingReference,t.paymentDr.debit=t.amount,e.next=15,t.$axios.post("/api/financial/create",t.paymentDr);case 15:return(o=e.sent).data.accountNumber?(console.log("DR Transaction completed"),console.log(o.data)):n.push({type:"",msg:"Can not make dr"}),e.next=19,t.$axios.post("/api/financial/create",t.paymentCr);case 19:(r=e.sent).data.accountNumber?(console.log("CR Transaction completed"),console.log(r.data)):n.push({type:"",msg:"Can not make dr"}),n?Object(y.b)(t.$swal,"Error",n[0].msg):Object(y.c)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(4),n.push({type:"",msg:"Can not make dr"}),console.log("Something wrong ===>"),Object(y.b)(t.$swal,"Error",e.t0.response.data.erors[0].msg);case 29:t.isloading=!1;case 30:case"end":return e.stop()}}),e,null,[[4,24]])})))()}}},_=n(74),component=Object(_.a)(w,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{justify:"center"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.props;return[e(r.a,t._b({attrs:{color:"primary"}},"v-btn",o,!1),[t._v("\n            Open Dialog\n        ")])]}}])},[t._v(" "),e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(c.a,{staticClass:"pa-4"},[e(l.d,[e("span",{staticClass:"text-h5"},[t._v("ຄ່າໃຊ້ຈ່າຍ "+t._s(t.today))])]),t._v(" "),e(l.c,[e(m.a,[e(v.a,[e(d.a,{attrs:{cols:"12",sm:"6",md:"4"}},[e(x.a,{attrs:{label:"ເລກເອກະສານອ້າງອີງ*",required:""},model:{value:t.postingReference,callback:function(e){t.postingReference=e},expression:"postingReference"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4"}},[e(x.a,{attrs:{type:"date",label:"ວັນທີ*",hint:"example of helper text only on focus"},model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4"}},[e(x.a,{attrs:{label:"Legal last name*",hint:"example of persistent helper text","persistent-hint":"",required:""}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(x.a,{attrs:{label:"ເນື້ອໃນການຊຳລະ*",required:""},model:{value:t.paymentDescription,callback:function(e){t.paymentDescription=e},expression:"paymentDescription"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.amount,expression:"amount",modifiers:{number:!0}},{name:"comma-thousand",rawName:"v-comma-thousand"}],attrs:{type:"text"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e(x.a,{directives:[{name:"comma-thousand",rawName:"v-comma-thousand"}],attrs:{label:"ຈຳນວນເງິນ*",required:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6"}},[e(o.a,{attrs:{"item-text":"desc","item-value":"id",items:t.account,label:"ບັນຊີແຍກປະເພດ DR ACCOUNT*"},model:{value:t.paymentDr.accountNumber,callback:function(e){t.$set(t.paymentDr,"accountNumber",e)},expression:"paymentDr.accountNumber"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6"}},[e(o.a,{attrs:{"item-text":"desc","item-value":"id",items:t.account,label:"ບັນຊີແຍກປະເພດ CR ACCOUNT*"},model:{value:t.paymentCr.accountNumber,callback:function(e){t.$set(t.paymentCr,"accountNumber",e)},expression:"paymentCr.accountNumber"}})],1)],1)],1),t._v(" "),e("small",[t._v("* ສະແດງເຖິງຟິວທີ່ຕ້ອງໃສ່ຂໍ້ມູນ")])],1),t._v(" "),e(l.a,[e(h.a),t._v(" "),e(r.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:t.triggerDialog}},[t._v("\n                Close\n            ")]),t._v(" "),e(r.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:t.createPayment}},[t._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(554).default})},704:function(t,e,n){"use strict";n.r(e);var o=n(536),r=n(243),c=n(138),l=n(574),d=n(701),m=n(700),f=n(563),v=n(586),h=n(244),x=n(85),k=(n(29),n(252),n(38)),D=n(24),y=(n(139),n(26),n(47),n(11),n(71),{components:{ApPayment:n(625).default},mounted:function(){this.loadTxn()},data:function(){return{userId:"",search:"",dialog:!1,isloading:!1,menu1:!1,menu2:!1,txnList:[],headers:[{text:"ວັນທີ",align:"center",value:"bookingDate",sortable:!0},{text:"Account",align:"center",value:"accountNumber",sortable:!0},{text:"ເລກອ້າງອີງ",align:"center",value:"postingReference"},{text:"ເບື້ອງຫນີ້",align:"center",value:"debit"},{text:"ເບື້ອງມີ",align:"center",value:"credit"},{text:"ເນື້ອໃນ",align:"center",value:"description"},{text:"ວັນເວລາສ້າງ",align:"center",value:"createdAt"},{text:"ກົດຊຳລະ",align:"end",value:"function",sortable:!1}],date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateFormatted:this.formatDate(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),dateFormatted2:this.formatDate(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10))}},methods:{triggerDialog:function(){this.dialog=!this.dialog},formatDate:function(t){if(!t)return null;var e=t.split("-"),n=Object(D.a)(e,3),o=n[0],r=n[1],c=n[2];return"".concat(r,"/").concat(c,"/").concat(o)},loadTxn:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("/api/financial/find").then((function(e){t.txnList=e.data.map((function(element){return{id:element.id,accountNumber:element.accountNumber,bookingDate:element.bookingDate.split("T")[0],postingReference:element.postingReference,debit:element.debit,credit:element.credit,description:element.description,descriptionLL:element.descriptionLL,currency:element.currency,rate:element.rate,source:element.source,createdAt:element.createdAt,updateTimestamp:element.updateTimestamp}}))})).catch((function(t){}));case 1:case"end":return e.stop()}}),e)})))()}}}),w=n(74),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("div",[e(f.a,{attrs:{persistent:"",width:"1024"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("ap-payment",{on:{close:t.triggerDialog}})],1),t._v(" "),e(o.a,{staticClass:"mt-2",attrs:{block:""},on:{click:t.triggerDialog}},[t._v("ສ້າງອິນວອຍ")])],1),t._v(" "),e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(r.a,[e(c.d,[e(v.a,{attrs:{row:"",wrap:""}},[e(l.a,{attrs:{cols:"6"}},[e(h.a,{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(x.a,t._g(t._b({attrs:{label:"ຈາກວັນທີ:",hint:"MM/DD/YYYY format","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",r,!1),o))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),e(m.a,{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),e(h.a,{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(x.a,t._g(t._b({attrs:{label:"ຫາວັນທີ:",hint:"MM/DD/YYYY format","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date2=t.parseDate(t.dateFormatted2)}},model:{value:t.dateFormatted2,callback:function(e){t.dateFormatted2=e},expression:"dateFormatted2"}},"v-text-field",r,!1),o))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(m.a,{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}})],1)],1),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e(x.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(x.a,{attrs:{"append-icon":"mdi-magnify",label:"ລະຫັດຜູ້ຂາຍ","single-line":"","hide-detailsx":""},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),t._v(" "),e(o.a,{on:{click:t.loadTxn}},[t._v(" ດຶງລາຍງານ ")])],1)],1)],1),t._v(" "),t.txnList?e(d.a,{attrs:{headers:t.headers,search:t.search,items:t.txnList},scopedSlots:t._u([{key:"item.function",fn:function(n){var r=n.item;return[e(o.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editItem(r),t.wallet=!0}}},[e("i",{staticClass:"fas fa-wallet"})])]}},{key:"item.cusTel",fn:function(n){var r=n.item;return[e(o.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.whatsappLink(r)}}},[t._v("\n                    "+t._s(r.cusTel)+"\n                    "),e("a",{attrs:{href:t.whatsappContactLink,target:"_blank"}},[t._v("Whatsapp")])])]}}],null,!0)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(554).default})}}]);